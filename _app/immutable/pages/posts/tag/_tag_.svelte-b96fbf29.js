import{S as R,i as Z,s as $,l as D,g as C,o as v,p as V,q as E,d,n as W,e as y,t as O,k as j,c as B,a as S,h as T,m as H,b as N,H as m,j as X,E as F,W as x,X as tt,w as Y,x as z,y as G,B as J,Y as et,V as st}from"../../../chunks/index-01d1497b.js";import{P as at,S as nt}from"../../../chunks/Pagination-2b317c91.js";function M(o,t,e){const s=o.slice();return s[8]=t[e],s[10]=e,s}function ot(o){let t,e,s,i,p,l,u,r;return{c(){t=y("section"),e=y("h2"),s=O("There are no posts tagged as #"),i=O(o[1]),p=O("!"),l=j(),u=y("a"),r=O("Back to tag catalog"),this.h()},l(n){t=B(n,"SECTION",{class:!0});var g=S(t);e=B(g,"H2",{});var h=S(e);s=T(h,"There are no posts tagged as #"),i=T(h,o[1]),p=T(h,"!"),h.forEach(d),l=H(g),u=B(g,"A",{href:!0});var k=S(u);r=T(k,"Back to tag catalog"),k.forEach(d),g.forEach(d),this.h()},h(){N(u,"href","/posts/tag"),N(t,"class","center margin-top")},m(n,g){C(n,t,g),m(t,e),m(e,s),m(e,i),m(e,p),m(t,l),m(t,u),m(u,r)},p(n,g){g&2&&X(i,n[1])},i:F,o:F,d(n){n&&d(t)}}}function rt(o){let t,e,s,i,p,l,u,r,n,g,h,k,w;function K(a){o[7](a)}let L={amountOfPages:o[4]};o[2]!==void 0&&(L.currentPage=o[2]),n=new at({props:L}),x.push(()=>tt(n,"currentPage",K));let P=o[3],f=[];for(let a=0;a<P.length;a+=1)f[a]=U(M(o,P,a));const Q=a=>v(f[a],1,1,()=>{f[a]=null});return{c(){t=y("section"),e=y("h2"),s=O("Posts tagged #"),i=O(o[1]),p=j(),l=y("a"),u=O("Back to all posts"),r=j(),Y(n.$$.fragment),h=j(),k=y("section");for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){t=B(a,"SECTION",{class:!0});var c=S(t);e=B(c,"H2",{});var b=S(e);s=T(b,"Posts tagged #"),i=T(b,o[1]),b.forEach(d),p=H(c),l=B(c,"A",{href:!0});var _=S(l);u=T(_,"Back to all posts"),_.forEach(d),r=H(c),z(n.$$.fragment,c),c.forEach(d),h=H(a),k=B(a,"SECTION",{class:!0});var I=S(k);for(let q=0;q<f.length;q+=1)f[q].l(I);I.forEach(d),this.h()},h(){N(l,"href","/posts"),N(t,"class","center"),N(k,"class","gapped")},m(a,c){C(a,t,c),m(t,e),m(e,s),m(e,i),m(t,p),m(t,l),m(l,u),m(t,r),G(n,t,null),C(a,h,c),C(a,k,c);for(let b=0;b<f.length;b+=1)f[b].m(k,null);w=!0},p(a,c){(!w||c&2)&&X(i,a[1]);const b={};if(c&16&&(b.amountOfPages=a[4]),!g&&c&4&&(g=!0,b.currentPage=a[2],et(()=>g=!1)),n.$set(b),c&8){P=a[3];let _;for(_=0;_<P.length;_+=1){const I=M(a,P,_);f[_]?(f[_].p(I,c),E(f[_],1)):(f[_]=U(I),f[_].c(),E(f[_],1),f[_].m(k,null))}for(W(),_=P.length;_<f.length;_+=1)Q(_);V()}},i(a){if(!w){E(n.$$.fragment,a);for(let c=0;c<P.length;c+=1)E(f[c]);w=!0}},o(a){v(n.$$.fragment,a),f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)v(f[c]);w=!1},d(a){a&&d(t),J(n),a&&d(h),a&&d(k),st(f,a)}}}function U(o){let t,e;return t=new nt({props:{post:o[8]}}),{c(){Y(t.$$.fragment)},l(s){z(t.$$.fragment,s)},m(s,i){G(t,s,i),e=!0},p(s,i){const p={};i&8&&(p.post=s[8]),t.$set(p)},i(s){e||(E(t.$$.fragment,s),e=!0)},o(s){v(t.$$.fragment,s),e=!1},d(s){J(t,s)}}}function lt(o){let t,e,s,i;const p=[rt,ot],l=[];function u(r,n){return r[0].length?0:1}return t=u(o),e=l[t]=p[t](o),{c(){e.c(),s=D()},l(r){e.l(r),s=D()},m(r,n){l[t].m(r,n),C(r,s,n),i=!0},p(r,[n]){let g=t;t=u(r),t===g?l[t].p(r,n):(W(),v(l[g],1,1,()=>{l[g]=null}),V(),e=l[t],e?e.p(r,n):(e=l[t]=p[t](r),e.c()),E(e,1),e.m(s.parentNode,s))},i(r){i||(E(e),i=!0)},o(r){v(e),i=!1},d(r){l[t].d(r),r&&d(s)}}}const ut=async({params:o,fetch:t})=>{const e=o.tag;return{props:{posts:(await(await t("/api/posts.json")).json()).filter(l=>l.meta.tags?l.meta.tags.includes(e):!1),tag:e}}},A=5;function ct(o,t,e){let s,i,p,l,{posts:u}=t,{tag:r}=t,n=1;function g(h){n=h,e(2,n)}return o.$$set=h=>{"posts"in h&&e(0,u=h.posts),"tag"in h&&e(1,r=h.tag)},o.$$.update=()=>{o.$$.dirty&4&&e(5,s=n*A),o.$$.dirty&32&&e(6,i=s-A),o.$$.dirty&1&&e(4,p=Math.ceil(u.length/A)),o.$$.dirty&97&&e(3,l=u.slice(i,s))},[u,r,n,l,p,s,i,g]}class gt extends R{constructor(t){super(),Z(this,t,ct,lt,$,{posts:0,tag:1})}}export{gt as default,ut as load};
