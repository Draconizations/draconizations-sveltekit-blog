import{S as F,i as M,s as N,e as y,t as O,k as w,w as k,c as B,a as E,h as S,d,m as b,x as I,b as L,g as q,H as u,y as C,j as U,q as H,o as T,B as A,P as x}from"../../../chunks/index-280a5dcd.js";import{P as z,a as G,i as j,p as J}from"../../../chunks/PageList-c9de7c9d.js";function K(a){let e,s,c,f,p,o,h,_,r,m,g,i;return r=new z({props:{currentPage:D,amountOfPages:a[2],path:a[3]}}),g=new G({props:{posts:a[1]}}),{c(){e=y("section"),s=y("h2"),c=O("Posts tagged #"),f=O(a[0]),p=w(),o=y("a"),h=O("Back to tag catalog"),_=w(),k(r.$$.fragment),m=w(),k(g.$$.fragment),this.h()},l(t){e=B(t,"SECTION",{class:!0});var n=E(e);s=B(n,"H2",{});var l=E(s);c=S(l,"Posts tagged #"),f=S(l,a[0]),l.forEach(d),p=b(n),o=B(n,"A",{href:!0});var P=E(o);h=S(P,"Back to tag catalog"),P.forEach(d),_=b(n),I(r.$$.fragment,n),n.forEach(d),m=b(t),I(g.$$.fragment,t),this.h()},h(){L(o,"href","/posts/tag"),L(e,"class","center")},m(t,n){q(t,e,n),u(e,s),u(s,c),u(s,f),u(e,p),u(e,o),u(o,h),u(e,_),C(r,e,null),q(t,m,n),C(g,t,n),i=!0},p(t,[n]){(!i||n&1)&&U(f,t[0]);const l={};n&4&&(l.amountOfPages=t[2]),n&8&&(l.path=t[3]),r.$set(l);const P={};n&2&&(P.posts=t[1]),g.$set(P)},i(t){i||(H(r.$$.fragment,t),H(g.$$.fragment,t),i=!0)},o(t){T(r.$$.fragment,t),T(g.$$.fragment,t),i=!1},d(t){t&&d(e),A(r),t&&d(m),A(g,t)}}}const W=async({params:a,fetch:e})=>{const s=a.tag;return{props:{posts:(await(await e("/api/posts.json")).json()).filter(o=>o.meta.tags?o.meta.tags.includes(s):!1),tag:s}}};let D=1;function Q(a,e,s){let c,f,p,o,h,_,r;x(a,J,i=>s(8,r=i));let{posts:m}=e,{tag:g}=e;return a.$$set=i=>{"posts"in i&&s(4,m=i.posts),"tag"in i&&s(0,g=i.tag)},a.$$.update=()=>{a.$$.dirty&256&&s(7,c=r.url.pathname.split("/")),a.$$.dirty&128&&s(3,f="/posts/tag/"+c[c.length-1]),a.$$.dirty&32&&s(6,o=p-j),a.$$.dirty&16&&s(2,h=Math.ceil(m.length/j)),a.$$.dirty&112&&s(1,_=m.slice(o,p))},s(5,p=D*j),[g,_,h,f,m,p,o,c,r]}class X extends F{constructor(e){super(),M(this,e,Q,K,N,{posts:4,tag:0})}}export{X as default,W as load};
