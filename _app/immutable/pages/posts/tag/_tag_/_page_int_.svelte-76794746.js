import{S as D,i as F,s as M,e as y,t as O,k as w,w as j,c as B,a as E,h as I,d,m as S,x as k,b as L,g as q,H as h,y as C,j as N,q as H,o as T,B as A,P as U}from"../../../../chunks/index-280a5dcd.js";import{P as z,a as G,i as b,p as J}from"../../../../chunks/PageList-c9de7c9d.js";function K(e){let a,s,i,c,l,o,u,_,g,p,r,m;return g=new z({props:{currentPage:e[1],amountOfPages:e[3],path:e[4]}}),r=new G({props:{posts:e[2]}}),{c(){a=y("section"),s=y("h2"),i=O("Posts tagged #"),c=O(e[0]),l=w(),o=y("a"),u=O("Back to tag catalog"),_=w(),j(g.$$.fragment),p=w(),j(r.$$.fragment),this.h()},l(t){a=B(t,"SECTION",{class:!0});var n=E(a);s=B(n,"H2",{});var f=E(s);i=I(f,"Posts tagged #"),c=I(f,e[0]),f.forEach(d),l=S(n),o=B(n,"A",{href:!0});var P=E(o);u=I(P,"Back to tag catalog"),P.forEach(d),_=S(n),k(g.$$.fragment,n),n.forEach(d),p=S(t),k(r.$$.fragment,t),this.h()},h(){L(o,"href","/posts/tag"),L(a,"class","center")},m(t,n){q(t,a,n),h(a,s),h(s,i),h(s,c),h(a,l),h(a,o),h(o,u),h(a,_),C(g,a,null),q(t,p,n),C(r,t,n),m=!0},p(t,[n]){(!m||n&1)&&N(c,t[0]);const f={};n&2&&(f.currentPage=t[1]),n&8&&(f.amountOfPages=t[3]),n&16&&(f.path=t[4]),g.$set(f);const P={};n&4&&(P.posts=t[2]),r.$set(P)},i(t){m||(H(g.$$.fragment,t),H(r.$$.fragment,t),m=!0)},o(t){T(g.$$.fragment,t),T(r.$$.fragment,t),m=!1},d(t){t&&d(a),A(g),t&&d(p),A(r,t)}}}const W=async({params:e,fetch:a})=>{const s=e.tag;return{props:{posts:(await(await a("/api/posts.json")).json()).filter(o=>o.meta.tags?o.meta.tags.includes(s):!1),tag:s}}};function Q(e,a,s){let i,c,l,o,u,_,g,p;U(e,J,t=>s(9,p=t));let{posts:r}=a,{tag:m}=a;return e.$$set=t=>{"posts"in t&&s(5,r=t.posts),"tag"in t&&s(0,m=t.tag)},e.$$.update=()=>{e.$$.dirty&512&&s(8,i=p.url.pathname.split("/")),e.$$.dirty&256&&s(1,c=parseInt(i[i.length-1])),e.$$.dirty&256&&s(4,l="/posts/tag/"+i[i.length-2]),e.$$.dirty&2&&s(6,o=c*b),e.$$.dirty&64&&s(7,u=o-b),e.$$.dirty&32&&s(3,_=Math.ceil(r.length/b)),e.$$.dirty&224&&s(2,g=r.slice(u,o))},[m,c,g,_,l,r,o,u,i,p]}class X extends D{constructor(a){super(),F(this,a,Q,K,M,{posts:5,tag:0})}}export{X as default,W as load};
