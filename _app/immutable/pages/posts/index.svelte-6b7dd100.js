import{S as B,i as F,s as M,e as y,t as I,k as d,w as S,c as O,a as b,h as x,d as P,m as w,x as L,b as j,g as q,H as h,y as C,q as H,o as R,B as k,P as N}from"../../chunks/index-280a5dcd.js";import{P as T,a as $,i as E,p as z}from"../../chunks/PageList-c9de7c9d.js";function D(s){let e,a,m,l,i,f,g,o,p,r,c;return o=new T({props:{currentPage:s[0],amountOfPages:s[2],path:A}}),r=new $({props:{posts:s[1]}}),{c(){e=y("section"),a=y("h2"),m=I("Recent posts"),l=d(),i=y("a"),f=I("search by tag"),g=d(),S(o.$$.fragment),p=d(),S(r.$$.fragment),this.h()},l(t){e=O(t,"SECTION",{class:!0});var n=b(e);a=O(n,"H2",{});var u=b(a);m=x(u,"Recent posts"),u.forEach(P),l=w(n),i=O(n,"A",{href:!0});var _=b(i);f=x(_,"search by tag"),_.forEach(P),g=w(n),L(o.$$.fragment,n),n.forEach(P),p=w(t),L(r.$$.fragment,t),this.h()},h(){j(i,"href","/posts/tag"),j(e,"class","center")},m(t,n){q(t,e,n),h(e,a),h(a,m),h(e,l),h(e,i),h(i,f),h(e,g),C(o,e,null),q(t,p,n),C(r,t,n),c=!0},p(t,[n]){const u={};n&1&&(u.currentPage=t[0]),n&4&&(u.amountOfPages=t[2]),o.$set(u);const _={};n&2&&(_.posts=t[1]),r.$set(_)},i(t){c||(H(o.$$.fragment,t),H(r.$$.fragment,t),c=!0)},o(t){R(o.$$.fragment,t),R(r.$$.fragment,t),c=!1},d(t){t&&P(e),k(o),t&&P(p),k(r,t)}}}const Q=async({fetch:s})=>({props:{posts:await(await s("/api/posts.json")).json()}});let A="/posts";function G(s,e,a){let m,l,i,f,g,o;N(s,z,c=>a(7,o=c));let{posts:p}=e,r;return s.$$set=c=>{"posts"in c&&a(3,p=c.posts)},s.$$.update=()=>{s.$$.dirty&128&&a(6,m=o.url.pathname.split("/")),s.$$.dirty&192&&(o.url.pathname!==A?a(0,r=parseInt(m[m.length-1])):a(0,r=1)),s.$$.dirty&1&&a(4,l=r*E),s.$$.dirty&16&&a(5,i=l-E),s.$$.dirty&8&&a(2,f=Math.ceil(p.length/E)),s.$$.dirty&56&&a(1,g=p.slice(i,l))},[r,g,f,p,l,i,m,o]}class U extends B{constructor(e){super(),F(this,e,G,D,M,{posts:3})}}export{U as default,Q as load};
