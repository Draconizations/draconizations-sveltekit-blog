import{S as A,i as D,s as F,e as y,t as I,k as d,w as S,c as O,a as b,h as x,d as P,m as w,x as L,b as j,g as q,H as h,y as B,q as C,o as H,B as R,P as M}from"../../chunks/index-280a5dcd.js";import{P as N,a as T,i as E,p as U}from"../../chunks/PageList-c9de7c9d.js";function $(e){let s,a,m,l,i,f,g,o,p,r,c;return o=new N({props:{currentPage:e[0],amountOfPages:e[2],path:k}}),r=new T({props:{posts:e[1]}}),{c(){s=y("section"),a=y("h2"),m=I("Recent posts"),l=d(),i=y("a"),f=I("search by tag"),g=d(),S(o.$$.fragment),p=d(),S(r.$$.fragment),this.h()},l(t){s=O(t,"SECTION",{class:!0});var n=b(s);a=O(n,"H2",{});var u=b(a);m=x(u,"Recent posts"),u.forEach(P),l=w(n),i=O(n,"A",{href:!0});var _=b(i);f=x(_,"search by tag"),_.forEach(P),g=w(n),L(o.$$.fragment,n),n.forEach(P),p=w(t),L(r.$$.fragment,t),this.h()},h(){j(i,"href","/posts/tag"),j(s,"class","center")},m(t,n){q(t,s,n),h(s,a),h(a,m),h(s,l),h(s,i),h(i,f),h(s,g),B(o,s,null),q(t,p,n),B(r,t,n),c=!0},p(t,[n]){const u={};n&1&&(u.currentPage=t[0]),n&4&&(u.amountOfPages=t[2]),o.$set(u);const _={};n&2&&(_.posts=t[1]),r.$set(_)},i(t){c||(C(o.$$.fragment,t),C(r.$$.fragment,t),c=!0)},o(t){H(o.$$.fragment,t),H(r.$$.fragment,t),c=!1},d(t){t&&P(s),R(o),t&&P(p),R(r,t)}}}const K=async({fetch:e})=>({props:{posts:await(await e("/api/posts.json")).json()}});let k="/posts";function z(e,s,a){let m,l,i,f,g,o;M(e,U,c=>a(7,o=c));let p,{posts:r}=s;return e.$$set=c=>{"posts"in c&&a(3,r=c.posts)},e.$$.update=()=>{e.$$.dirty&128&&a(6,m=o.url.pathname.split("/")),e.$$.dirty&192&&(o.url.pathname!==k?a(0,p=parseInt(m[m.length-1])):a(0,p=1)),e.$$.dirty&1&&a(4,l=p*E),e.$$.dirty&16&&a(5,i=l-E),e.$$.dirty&8&&a(2,f=Math.ceil(r.length/E)),e.$$.dirty&56&&a(1,g=r.slice(i,l))},[p,g,f,r,l,i,m,o]}class Q extends A{constructor(s){super(),D(this,s,z,$,F,{posts:3})}}export{Q as default,K as load};
